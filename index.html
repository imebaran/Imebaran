<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
@font-face{
  font-family:'DastNevis';
  src:url('./DastNevis.otf') format('opentype');
}

*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:'DastNevis',sans-serif;
  background:#fff;
  font-size:16px;
}
img{width:100%;height:100%;object-fit:cover;display:block}

/* Header */
.header img{width:100vw;height:200px}

/* Intro */
.intro{
  text-align:center;
  padding:28px 16px 42px;
  font-size:22px
}

/* SIZE LOCK */
.product{
  width:100%;
  aspect-ratio:1/1;
  border-radius:12px;
  overflow:hidden;
}

/* Slider */
.slider{
  display:flex;
  gap:12px;
  overflow-x:auto;
  padding:0 16px 32px
}
.slider::-webkit-scrollbar{display:none}
.slide{flex:0 0 33.33%}

/* Grid */
.grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
  padding:16px
}

/* Prices */
.prices{
  display:flex;
  justify-content:center;
  gap:6px;
  margin:6px 0 4px;
  font-size:15px;
  opacity:.85
}
.old{text-decoration:line-through}
.new{font-weight:bold}
.discount{
  background:#e74c3c;
  color:#fff;
  padding:2px 6px;
  border-radius:6px;
  font-size:13px;
  font-weight:bold;
}

/* Buttons */
.buy{
  display:block;
  width:60%;
  margin:0 auto 6px;
  padding:6px 0;
  border:none;
  border-radius:8px;
  font-size:15px;
  font-family:'DastNevis'
}
.slider .buy{background:#2ecc71;color:#fff}
.grid .buy{background:#f1c40f;color:#000}

/* More */
.more{
  text-align:center;
  margin:24px 0;
  font-weight:bold;
  font-size:17px
}

/* Modal */
.modal{
  display:none;
  position:fixed;
  top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,.6);
  justify-content:center;
  align-items:center;
}
.modal-content{
  background:#fff;
  padding:20px;
  border-radius:10px;
  width:90%;
  max-width:400px;
}
.modal-content h3{margin-bottom:12px}
.modal-content label{display:block;margin:8px 0 4px}
.modal-content input, .modal-content textarea{
  width:100%;padding:6px;border:1px solid #ccc;border-radius:6px;
}
.close{float:left;font-size:22px;cursor:pointer}
</style>
</head>

<body>

<div class="header">
  <img src="https://raw.githubusercontent.com/imebaran/Imebaran/refs/heads/main/هدر.jpg">
</div>

<div class="intro">
  فریب‌کار یکبار می‌فروشد، درستکار هزاربار
</div>

<div class="slider" id="slider"></div>

<div class="grid">
  <div>
   <div class="product"><img src="399.jpg"></div>
   <div class="prices"><span class="old">900</span><span class="new">399 تومان</span><span class="discount">٪56 تخفیف</span></div>
   <button class="buy">افزودن به سبد</button>
  </div>
  <div>
   <div class="product"><img src="520.jpg"></div>
   <div class="prices"><span class="old">980</span><span class="new">520 تومان</span><span class="discount">٪47 تخفیف</span></div>
   <button class="buy">افزودن به سبد</button>
  </div>
</div>

<div class="more">محصولات بیشتر</div>

<!-- Modal Form -->
<div id="orderForm" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h3>فرم سفارش</h3>
    <form id="buyForm" method="post" action="order.php">
      <label>نام و نام خانوادگی:</label>
      <input type="text" name="name" required>

      <label>شماره تماس:</label>
      <input type="text" name="phone" required>

      <label>آدرس:</label>
      <textarea name="address" required></textarea>

      <input type="hidden" name="product" id="productName">

      <button type="submit">ثبت سفارش</button>
    </form>
  </div>
</div>

<script>
const slider=document.getElementById('slider');
const items=[
 ['1.jpg','900','760'],['2.jpg','900','760'],
 ['3.jpg','900','760'],['4.jpg','900','760']
];
items.forEach(i=>{
  const discount=Math.round((i[1]-i[2])/i[1]*100);
  slider.innerHTML+=`
  <div class="slide">
   <div class="product"><img src="${i[0]}"></div>
   <div class="prices"><span class="old">${i[1]}</span><span class="new">${i[2]} تومان</span><span class="discount">٪${discount} تخفیف</span></div>
   <button class="buy">افزودن به سبد</button>
  </div>`;
});

// Modal logic
document.querySelectorAll(".buy").forEach(btn=>{
  btn.addEventListener("click", e=>{
    const product = e.target.closest("div").querySelector(".new").innerText;
    document.getElementById("productName").value = product;
    document.getElementById("orderForm").style.display="flex";
  });
});
document.querySelector(".close").onclick=()=>{
  document.getElementById("orderForm").style.display="none";
};
</script>

</body>
</html>